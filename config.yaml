sources:
  - name: codex
    enabled: true
    path: ~/.codex
    pattern: "*.jsonl"
    options:
      use_connector: true
      include_globs:
        - "history.jsonl"
        - "sessions/**/*.jsonl"

  - name: claude
    enabled: true
    path: ~/.claude
    pattern: "*.jsonl"
    options:
      use_connector: true
      include_globs:
        - "history.jsonl"
        - "projects/**/*.jsonl"
      exclude_globs:
        - "**/subagents/*.jsonl"

  # - name: cursor
  #   enabled: true
  #   path: ./ingest/cursor
  #   pattern: "*.jsonl"

  # - name: terminal
  #   enabled: true
  #   path: ./ingest/terminal
  #   pattern: "*.log"

  - name: imessage
    enabled: true
    path: ./ingest/imessage
    pattern: "*.jsonl"
    options:
      mode: sqlite # sqlite | jsonl
      db_path: ~/Library/Messages/chat.db
      limit: 500
    include_contains: []
    exclude_contains: []
    include_groups: []
    exclude_groups: []
    include_actors: []
    exclude_actors: []
    since_ts:
    until_ts:

store:
  backend: sqlite # sqlite | memory
  dsn: sqlite:///./data/amnesia.db

daemon:
  poll_interval_seconds: 5
  state_path: ./.amnesia_state.yaml

exports:
  enabled: true
  daily_dir: ./exports/daily
  skills_dir: ./exports/skills
  memory:
    enabled: true
    mode: openclawd
    output_dir: ./exports/memory
    formats: ["md"]
    daily: true
    weekly: true
    monthly: true
    per_project: true
    llm_enabled: true
    llm_model: gpt-5-nano
    llm_max_tokens: 10000
    prompts:
      system_daily: |
        You are Open Amnesia. Write a concise daily memory. Focus on high-signal work,
        decisions, and next actions. Use short paragraphs and bullets where useful.
      system_weekly: |
        You are Open Amnesia. Write a concise weekly memory. Emphasize themes, wins,
        blockers, and upcoming priorities. Use short paragraphs and bullets.
      system_monthly: |
        You are Open Amnesia. Write a concise monthly memory. Emphasize major milestones,
        enduring decisions, and shifts in focus. Use short paragraphs and bullets.
      user: |
        Summarize the period using this payload (JSON):
        {payload}

hooks:
  plugins: []

e2e:
  mode: recent
  since_days: 60
  discovery_limit: 500
  log_level: INFO
